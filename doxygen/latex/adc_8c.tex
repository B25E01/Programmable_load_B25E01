\doxysection{main/src/adc.c File Reference}
\hypertarget{adc_8c}{}\label{adc_8c}\index{main/src/adc.c@{main/src/adc.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include "{}esp\+\_\+adc/adc\+\_\+oneshot.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+log.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{adc_8c_a851561680d70fffd097028f2adcf032e}{adc\+\_\+unit\+\_\+init}} (adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t adc\+\_\+handle\+\_\+name, adc\+\_\+oneshot\+\_\+unit\+\_\+init\+\_\+cfg\+\_\+t adc\+\_\+config\+\_\+name, adc\+\_\+unit\+\_\+t adc\+\_\+unit\+\_\+name)
\item 
void \mbox{\hyperlink{adc_8c_ac8c7126a1af0d8e46906bec35e903ae4}{adc\+\_\+channel\+\_\+init}} (adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t adc\+\_\+handle\+\_\+name, adc\+\_\+oneshot\+\_\+unit\+\_\+init\+\_\+cfg\+\_\+t adc\+\_\+config\+\_\+name, adc\+\_\+oneshot\+\_\+chan\+\_\+cfg\+\_\+t channel\+\_\+config\+\_\+name, adc\+\_\+channel\+\_\+t adc\+\_\+channel, adc\+\_\+bitwidth\+\_\+t bid\+\_\+width, adc\+\_\+atten\+\_\+t attenuation)
\item 
int \mbox{\hyperlink{adc_8c_a5759baf0efdf08e53d80053a550f57f5}{adc\+\_\+read}} (adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t adc\+\_\+handle\+\_\+name, adc\+\_\+oneshot\+\_\+chan\+\_\+cfg\+\_\+t channel\+\_\+config\+\_\+name)
\item 
float \mbox{\hyperlink{adc_8c_a5961f162a41bde459b5dab22d131a04c}{adc\+\_\+raw\+\_\+to\+\_\+voltage}} (int adc\+\_\+raw, float Vref, int max\+\_\+adc\+\_\+value)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{adc_8c_ac8c7126a1af0d8e46906bec35e903ae4}\index{adc.c@{adc.c}!adc\_channel\_init@{adc\_channel\_init}}
\index{adc\_channel\_init@{adc\_channel\_init}!adc.c@{adc.c}}
\doxysubsubsection{\texorpdfstring{adc\_channel\_init()}{adc\_channel\_init()}}
{\footnotesize\ttfamily \label{adc_8c_ac8c7126a1af0d8e46906bec35e903ae4} 
void adc\+\_\+channel\+\_\+init (\begin{DoxyParamCaption}\item[{adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t}]{adc\+\_\+handle\+\_\+name}{, }\item[{adc\+\_\+oneshot\+\_\+unit\+\_\+init\+\_\+cfg\+\_\+t}]{adc\+\_\+config\+\_\+name}{, }\item[{adc\+\_\+oneshot\+\_\+chan\+\_\+cfg\+\_\+t}]{channel\+\_\+config\+\_\+name}{, }\item[{adc\+\_\+channel\+\_\+t}]{adc\+\_\+channel}{, }\item[{adc\+\_\+bitwidth\+\_\+t}]{bid\+\_\+width}{, }\item[{adc\+\_\+atten\+\_\+t}]{attenuation}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{adc_8c_source_l00017}{17}} of file \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{comment}{//Initialiserer\ ADC\ kanal}}
\DoxyCodeLine{00020\ \ \ \ \ adc\_oneshot\_chan\_cfg\_t\ channel\_config\_name\ =\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ .bitwidth\ =\ bid\_width,}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ .atten\ =\ attenuation,}
\DoxyCodeLine{00023\ \ \ \ \ \};}
\DoxyCodeLine{00024\ \ \ \ \ ESP\_ERROR\_CHECK(adc\_oneshot\_config\_channel(adc\_handle\_name,\ adc\_channel,\ \&adc\_config\_name));}
\DoxyCodeLine{00025\ \}}

\end{DoxyCode}
\Hypertarget{adc_8c_a5961f162a41bde459b5dab22d131a04c}\index{adc.c@{adc.c}!adc\_raw\_to\_voltage@{adc\_raw\_to\_voltage}}
\index{adc\_raw\_to\_voltage@{adc\_raw\_to\_voltage}!adc.c@{adc.c}}
\doxysubsubsection{\texorpdfstring{adc\_raw\_to\_voltage()}{adc\_raw\_to\_voltage()}}
{\footnotesize\ttfamily \label{adc_8c_a5961f162a41bde459b5dab22d131a04c} 
float adc\+\_\+raw\+\_\+to\+\_\+voltage (\begin{DoxyParamCaption}\item[{int}]{adc\+\_\+raw}{, }\item[{float}]{Vref}{, }\item[{int}]{max\+\_\+adc\+\_\+value}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{adc_8c_source_l00033}{33}} of file \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{return}\ ((\textcolor{keywordtype}{float})adc\_raw\ *\ Vref)\ /\ max\_adc\_value;}
\DoxyCodeLine{00035\ \}}

\end{DoxyCode}
\Hypertarget{adc_8c_a5759baf0efdf08e53d80053a550f57f5}\index{adc.c@{adc.c}!adc\_read@{adc\_read}}
\index{adc\_read@{adc\_read}!adc.c@{adc.c}}
\doxysubsubsection{\texorpdfstring{adc\_read()}{adc\_read()}}
{\footnotesize\ttfamily \label{adc_8c_a5759baf0efdf08e53d80053a550f57f5} 
int adc\+\_\+read (\begin{DoxyParamCaption}\item[{adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t}]{adc\+\_\+handle\+\_\+name}{, }\item[{adc\+\_\+oneshot\+\_\+chan\+\_\+cfg\+\_\+t}]{channel\+\_\+config\+\_\+name}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{adc_8c_source_l00027}{27}} of file \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordtype}{int}\ adc\_raw;}
\DoxyCodeLine{00029\ \ \ \ \ ESP\_ERROR\_CHECK(adc\_oneshot\_config\_channel(adc\_handle\_name,\ channel\_config\_name,\ \&adc\_raw));}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{return}\ adc\_raw;}
\DoxyCodeLine{00031\ \}}

\end{DoxyCode}
\Hypertarget{adc_8c_a851561680d70fffd097028f2adcf032e}\index{adc.c@{adc.c}!adc\_unit\_init@{adc\_unit\_init}}
\index{adc\_unit\_init@{adc\_unit\_init}!adc.c@{adc.c}}
\doxysubsubsection{\texorpdfstring{adc\_unit\_init()}{adc\_unit\_init()}}
{\footnotesize\ttfamily \label{adc_8c_a851561680d70fffd097028f2adcf032e} 
void adc\+\_\+unit\+\_\+init (\begin{DoxyParamCaption}\item[{adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t}]{adc\+\_\+handle\+\_\+name}{, }\item[{adc\+\_\+oneshot\+\_\+unit\+\_\+init\+\_\+cfg\+\_\+t}]{adc\+\_\+config\+\_\+name}{, }\item[{adc\+\_\+unit\+\_\+t}]{adc\+\_\+unit\+\_\+name}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{adc_8c_source_l00005}{5}} of file \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00006\ \{}
\DoxyCodeLine{00007\ \ \ \ \ \textcolor{comment}{//\ Initaliserer\ ADC\ unit}}
\DoxyCodeLine{00008\ \ \ \ \ adc\_oneshot\_unit\_handle\_t\ adc\_handle\_name;\ \textcolor{comment}{//\ Lager\ en\ ADC\ handle}}
\DoxyCodeLine{00009\ \ \ \ \ adc\_oneshot\_unit\_init\_cfg\_t\ adc\_config\_name\ =\ \{}
\DoxyCodeLine{00010\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Lager\ en\ konfigurasjon\ som\ denne\ ADC\ uniten\ kommer\ til\ Ã¥\ bruke}}
\DoxyCodeLine{00011\ \ \ \ \ \ \ \ \ .unit\_id\ =\ adc\_unit\_name,}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ .ulp\_mode\ =\ ADC\_ULP\_MODE\_DISABLE,}
\DoxyCodeLine{00013\ \ \ \ \ \};}
\DoxyCodeLine{00014\ \ \ \ \ ESP\_ERROR\_CHECK(adc\_oneshot\_new\_unit(\&adc\_config\_name,\ \&adc\_handle\_name));\ \textcolor{comment}{//\ Lager\ ADC\ uniten\ som\ vi\ har\ laget\ navn\ og\ konfigurert\ over}}
\DoxyCodeLine{00015\ \}}

\end{DoxyCode}
