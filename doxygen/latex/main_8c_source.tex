\doxysection{main.\+c}
\hypertarget{main_8c_source}{}\label{main_8c_source}\index{main/main.c@{main/main.c}}
\mbox{\hyperlink{main_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{adc_8h}{adc.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}freertos/FreeRTOS.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}freertos/task.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}esp\_log.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00006}00006\ \textcolor{comment}{//Define\ the\ ADC\ unit\ to\ be\ used}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00007}\mbox{\hyperlink{main_8c_aa869cc8a3bf3f2a35447edc6eb11cf32}{00007}}\ \textcolor{preprocessor}{\#define\ ADC\_UNIT\ ADC\_UNIT\_1}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00009}00009\ \textcolor{comment}{//Defines\ the\ ULP\ mode\ (Ultra\ Low\ Power\ mode)}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00010}\mbox{\hyperlink{main_8c_a9b6bdf0dd8c64f9f987645438f057161}{00010}}\ \textcolor{preprocessor}{\#define\ ADC\_ULP\ ADC\_ULP\_MODE\_DISABLE}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00012}00012\ \textcolor{comment}{//Defines\ the\ ADC\ channel\ to\ be\ used\ (GPIO\ 10)}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00013}\mbox{\hyperlink{main_8c_a7fb9fde533f9b9bc8e4ae31524c9ea51}{00013}}\ \textcolor{preprocessor}{\#define\ ADC\_CHANNEL\ ADC\_CHANNEL\_9}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00015}00015\ \textcolor{comment}{//Defines\ the\ attenuation\ for\ the\ ADC\ channel}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00016}\mbox{\hyperlink{main_8c_a9851d7403086e8d8ce491625b0f8863d}{00016}}\ \textcolor{preprocessor}{\#define\ ADC\_ATTEN\ ADC\_ATTEN\_DB\_12}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00018}00018\ \textcolor{comment}{//Define\ the\ bit\ width\ for\ the\ ADC\ channel}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00019}\mbox{\hyperlink{main_8c_a133ef7b7b4ad7fa713384c3ede19e5f4}{00019}}\ \textcolor{preprocessor}{\#define\ ADC\_BITWIDTH\ ADC\_BITWIDTH\_DEFAULT}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00028}\mbox{\hyperlink{main_8c_abce06be17fc37d675118a678a8100a36}{00028}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{main_8c_abce06be17fc37d675118a678a8100a36}{app\_main}}()\{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00029}00029\ \ \ \ \ \textcolor{comment}{//Handle\ for\ the\ ADC\ unit}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00030}00030\ \ \ \ \ adc\_oneshot\_unit\_handle\_t\ adc\_handle\_1;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00032}00032\ \ \ \ \ \textcolor{comment}{//Initialise\ the\ ADC\ unit}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00033}00033\ \ \ \ \ \mbox{\hyperlink{adc_8h_a5dad5df4f9e2075946f89bac1c332dea}{adc\_unit\_init}}(\&adc\_handle\_1,\ \mbox{\hyperlink{main_8c_aa869cc8a3bf3f2a35447edc6eb11cf32}{ADC\_UNIT}},\ \mbox{\hyperlink{main_8c_a9b6bdf0dd8c64f9f987645438f057161}{ADC\_ULP}});}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00035}00035\ \ \ \ \ \textcolor{comment}{//Initialise\ the\ ADC\ channel}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00036}00036\ \ \ \ \ \mbox{\hyperlink{adc_8h_a862407b560ea9ed098f0b108d5cb09a8}{adc\_channel\_init}}(adc\_handle\_1,\ \mbox{\hyperlink{main_8c_a7fb9fde533f9b9bc8e4ae31524c9ea51}{ADC\_CHANNEL}},\ \mbox{\hyperlink{main_8c_a9851d7403086e8d8ce491625b0f8863d}{ADC\_ATTEN}},\ \mbox{\hyperlink{main_8c_a133ef7b7b4ad7fa713384c3ede19e5f4}{ADC\_BITWIDTH}});}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00038}00038\ \ \ \ \ \textcolor{comment}{//Variable\ to\ store\ the\ ADC\ result}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00039}00039\ \ \ \ \ \textcolor{keywordtype}{int}\ adc\_result;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00041}00041\ \ \ \ \ \textcolor{comment}{//Endless\ loop\ to\ continously\ read\ and\ log\ the\ ADC\ value}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00042}00042\ \ \ \ \ \textcolor{keywordflow}{while}\ (1)\{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Read\ the\ ADC\ value}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00044}00044\ \ \ \ \ \ \ \ \ adc\_result\ =\ \mbox{\hyperlink{adc_8h_a9a9fcc8af4a4583c4fe8476a4558c5d8}{adc\_read}}(adc\_handle\_1,\ \mbox{\hyperlink{main_8c_a7fb9fde533f9b9bc8e4ae31524c9ea51}{ADC\_CHANNEL}});}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Log\ the\ ADC\ result}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00047}00047\ \ \ \ \ \ \ \ \ ESP\_LOGI(\textcolor{stringliteral}{"{}MAIN"{}},\ \textcolor{stringliteral}{"{}ADC\ result:\ \%d"{}},\ adc\_result);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00049}00049\ \ \ \ \ \ \ \ \ \textcolor{comment}{//10ms\ delay}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00050}00050\ \ \ \ \ \ \ \ \ vTaskDelay(pdMS\_TO\_TICKS(10));}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00051}00051\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00052}00052\ \}}

\end{DoxyCode}
