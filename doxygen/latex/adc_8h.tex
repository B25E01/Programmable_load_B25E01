\doxysection{main/include/adc.h File Reference}
\hypertarget{adc_8h}{}\label{adc_8h}\index{main/include/adc.h@{main/include/adc.h}}
{\ttfamily \#include "{}esp\+\_\+adc/adc\+\_\+oneshot.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{adc_8h_a5dad5df4f9e2075946f89bac1c332dea}{adc\+\_\+unit\+\_\+init}} (adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t \texorpdfstring{$\ast$}{*}adc\+\_\+handle\+\_\+name, adc\+\_\+unit\+\_\+t adc\+\_\+unit, adc\+\_\+ulp\+\_\+mode\+\_\+t ulp\+\_\+mode)
\begin{DoxyCompactList}\small\item\em Initialises an ADC unit. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{adc_8h_a862407b560ea9ed098f0b108d5cb09a8}{adc\+\_\+channel\+\_\+init}} (adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t adc\+\_\+handle\+\_\+name, adc\+\_\+channel\+\_\+t channel, adc\+\_\+atten\+\_\+t atten, adc\+\_\+bitwidth\+\_\+t bitwidth)
\begin{DoxyCompactList}\small\item\em Initialises an ADC channel, refer to the datsheet to see which channel corresponds to which GPIO. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{adc_8h_a9a9fcc8af4a4583c4fe8476a4558c5d8}{adc\+\_\+read}} (adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t adc\+\_\+handle\+\_\+name, adc\+\_\+channel\+\_\+t channel)
\begin{DoxyCompactList}\small\item\em Reads the value from an ADC channel. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{adc_8h_a862407b560ea9ed098f0b108d5cb09a8}\index{adc.h@{adc.h}!adc\_channel\_init@{adc\_channel\_init}}
\index{adc\_channel\_init@{adc\_channel\_init}!adc.h@{adc.h}}
\doxysubsubsection{\texorpdfstring{adc\_channel\_init()}{adc\_channel\_init()}}
{\footnotesize\ttfamily \label{adc_8h_a862407b560ea9ed098f0b108d5cb09a8} 
void adc\+\_\+channel\+\_\+init (\begin{DoxyParamCaption}\item[{adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t}]{adc\+\_\+handle\+\_\+name}{, }\item[{adc\+\_\+channel\+\_\+t}]{channel}{, }\item[{adc\+\_\+atten\+\_\+t}]{atten}{, }\item[{adc\+\_\+bitwidth\+\_\+t}]{bitwidth}{}\end{DoxyParamCaption})}



Initialises an ADC channel, refer to the datsheet to see which channel corresponds to which GPIO. 

This function configures an ADC channel with the specified settings.


\begin{DoxyParams}{Parameters}
{\em adc\+\_\+handle\+\_\+name} & The handle of the ADC unit structure. \\
\hline
{\em channel} & The ADC channel to configure \\
\hline
{\em atten} & The attenuation to use for the channel. Decides how high voltage you can measure. \\
\hline
{\em bitwidth} & The bit width to use for the channel. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{adc_8c_source_l00039}{39}} of file \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00040\ \ \ \ \ adc\_oneshot\_chan\_cfg\_t\ config\ =\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ .bitwidth\ =\ bitwidth,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ .atten\ =\ atten,}
\DoxyCodeLine{00043\ \ \ \ \ \};}
\DoxyCodeLine{00044\ \ \ \ \ ESP\_ERROR\_CHECK(adc\_oneshot\_config\_channel(adc\_handle\_name,\ channel,\ \&config));}
\DoxyCodeLine{00045\ \ \ \ \ ESP\_LOGI(TAG,\ \textcolor{stringliteral}{"{}ADC\ channel\ initialised\ successfully"{}});}
\DoxyCodeLine{00046\ \}}

\end{DoxyCode}
\Hypertarget{adc_8h_a9a9fcc8af4a4583c4fe8476a4558c5d8}\index{adc.h@{adc.h}!adc\_read@{adc\_read}}
\index{adc\_read@{adc\_read}!adc.h@{adc.h}}
\doxysubsubsection{\texorpdfstring{adc\_read()}{adc\_read()}}
{\footnotesize\ttfamily \label{adc_8h_a9a9fcc8af4a4583c4fe8476a4558c5d8} 
int adc\+\_\+read (\begin{DoxyParamCaption}\item[{adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t}]{adc\+\_\+handle\+\_\+name}{, }\item[{adc\+\_\+channel\+\_\+t}]{channel}{}\end{DoxyParamCaption})}



Reads the value from an ADC channel. 

This function reads the raw value from the specified ADC channel.


\begin{DoxyParams}{Parameters}
{\em adc\+\_\+handle\+\_\+name} & The handle of the ADC unit. \\
\hline
{\em channel} & The ADC channel to read from. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the read ADC value. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{adc_8c_source_l00057}{57}} of file \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{int}\ adc\_raw;}
\DoxyCodeLine{00059\ \ \ \ \ ESP\_ERROR\_CHECK(adc\_oneshot\_read(adc\_handle\_name,\ channel,\ \&adc\_raw));}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{return}\ adc\_raw;}
\DoxyCodeLine{00061\ \}}

\end{DoxyCode}
\Hypertarget{adc_8h_a5dad5df4f9e2075946f89bac1c332dea}\index{adc.h@{adc.h}!adc\_unit\_init@{adc\_unit\_init}}
\index{adc\_unit\_init@{adc\_unit\_init}!adc.h@{adc.h}}
\doxysubsubsection{\texorpdfstring{adc\_unit\_init()}{adc\_unit\_init()}}
{\footnotesize\ttfamily \label{adc_8h_a5dad5df4f9e2075946f89bac1c332dea} 
void adc\+\_\+unit\+\_\+init (\begin{DoxyParamCaption}\item[{adc\+\_\+oneshot\+\_\+unit\+\_\+handle\+\_\+t \texorpdfstring{$\ast$}{*}}]{adc\+\_\+handle\+\_\+name}{, }\item[{adc\+\_\+unit\+\_\+t}]{adc\+\_\+unit}{, }\item[{adc\+\_\+ulp\+\_\+mode\+\_\+t}]{ulp\+\_\+mode}{}\end{DoxyParamCaption})}



Initialises an ADC unit. 

This function initialises an ADC unit with the configuration input in the parameters


\begin{DoxyParams}{Parameters}
{\em adc\+\_\+handle\+\_\+name} & Pointer to the ADC unit handle structure. \\
\hline
{\em adc\+\_\+unit} & The ADC unit to initialise. \\
\hline
{\em ulp\+\_\+mode} & The ULP mode to use. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{adc_8c_source_l00017}{17}} of file \mbox{\hyperlink{adc_8c_source}{adc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{comment}{//Configuration\ for\ the\ ADC\ unit.}}
\DoxyCodeLine{00020\ \ \ \ \ adc\_oneshot\_unit\_init\_cfg\_t\ adc\_unit\_cfg\ =\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ .unit\_id\ =\ adc\_unit,}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ .ulp\_mode\ =\ ulp\_mode,}
\DoxyCodeLine{00023\ \ \ \ \ \};}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{comment}{//Initialise\ the\ ADC\ unit.}}
\DoxyCodeLine{00025\ \ \ \ \ ESP\_ERROR\_CHECK(adc\_oneshot\_new\_unit(\&adc\_unit\_cfg,\ adc\_handle\_name));}
\DoxyCodeLine{00026\ \ \ \ \ ESP\_LOGI(TAG,\ \textcolor{stringliteral}{"{}ADC\ unit\ initialised\ successfully"{}});}
\DoxyCodeLine{00027\ \}}

\end{DoxyCode}
