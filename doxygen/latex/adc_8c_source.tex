\doxysection{adc.\+c}
\hypertarget{adc_8c_source}{}\label{adc_8c_source}\index{main/src/adc.c@{main/src/adc.c}}
\mbox{\hyperlink{adc_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00001}00001\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}esp\_adc/adc\_oneshot.h"{}}}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}esp\_log.h"{}}}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{adc_8h}{adc.h}}"{}}}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00006}00006\ \textcolor{comment}{//Logging\ tag}}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00007}00007\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ TAG\ =\ \textcolor{stringliteral}{"{}ADC\_INIT"{}};}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00017}\mbox{\hyperlink{adc_8h_a5dad5df4f9e2075946f89bac1c332dea}{00017}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{adc_8c_a5dad5df4f9e2075946f89bac1c332dea}{adc\_unit\_init}}(adc\_oneshot\_unit\_handle\_t\ *adc\_handle\_name,\ adc\_unit\_t\ adc\_unit,\ adc\_ulp\_mode\_t\ ulp\_mode)}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00018}00018\ \{}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00019}00019\ \ \ \ \ \textcolor{comment}{//Configuration\ for\ the\ ADC\ unit.}}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00020}00020\ \ \ \ \ adc\_oneshot\_unit\_init\_cfg\_t\ adc\_unit\_cfg\ =\ \{}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00021}00021\ \ \ \ \ \ \ \ \ .unit\_id\ =\ adc\_unit,}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00022}00022\ \ \ \ \ \ \ \ \ .ulp\_mode\ =\ ulp\_mode,}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00023}00023\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00024}00024\ \ \ \ \ \textcolor{comment}{//Initialise\ the\ ADC\ unit.}}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00025}00025\ \ \ \ \ ESP\_ERROR\_CHECK(adc\_oneshot\_new\_unit(\&adc\_unit\_cfg,\ adc\_handle\_name));}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00026}00026\ \ \ \ \ ESP\_LOGI(TAG,\ \textcolor{stringliteral}{"{}ADC\ unit\ initialised\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00027}00027\ \}}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00039}\mbox{\hyperlink{adc_8h_a862407b560ea9ed098f0b108d5cb09a8}{00039}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{adc_8c_a862407b560ea9ed098f0b108d5cb09a8}{adc\_channel\_init}}(adc\_oneshot\_unit\_handle\_t\ adc\_handle\_name,\ adc\_channel\_t\ channel,\ adc\_atten\_t\ atten,\ adc\_bitwidth\_t\ bitwidth)\{}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00040}00040\ \ \ \ \ adc\_oneshot\_chan\_cfg\_t\ config\ =\ \{}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00041}00041\ \ \ \ \ \ \ \ \ .bitwidth\ =\ bitwidth,}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00042}00042\ \ \ \ \ \ \ \ \ .atten\ =\ atten,}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00043}00043\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00044}00044\ \ \ \ \ ESP\_ERROR\_CHECK(adc\_oneshot\_config\_channel(adc\_handle\_name,\ channel,\ \&config));}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00045}00045\ \ \ \ \ ESP\_LOGI(TAG,\ \textcolor{stringliteral}{"{}ADC\ channel\ initialised\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00046}00046\ \}}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00057}\mbox{\hyperlink{adc_8h_a9a9fcc8af4a4583c4fe8476a4558c5d8}{00057}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{adc_8c_a9a9fcc8af4a4583c4fe8476a4558c5d8}{adc\_read}}(adc\_oneshot\_unit\_handle\_t\ adc\_handle\_name,\ adc\_channel\_t\ channel)\{}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00058}00058\ \ \ \ \ \textcolor{keywordtype}{int}\ adc\_raw;}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00059}00059\ \ \ \ \ ESP\_ERROR\_CHECK(adc\_oneshot\_read(adc\_handle\_name,\ channel,\ \&adc\_raw));}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00060}00060\ \ \ \ \ \textcolor{keywordflow}{return}\ adc\_raw;}
\DoxyCodeLine{\Hypertarget{adc_8c_source_l00061}00061\ \}}

\end{DoxyCode}
